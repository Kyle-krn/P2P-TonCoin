{% block pagination %}
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center pagination-lg">
      <li class="page-item">
        {% if previous_page %}
        <a class="page-link" href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page={{previous_page}}" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
        {% endif %}
      </li>
  
      {% if last_page - page >= 2 %}
          {% if page > 2 %}
            <li class="page-item"><a class="page-link" href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page=1">1</a></li>
            <li class="page-item"><a class="page-link" href="" disabled="disabled">...</a></li>
          {% endif %}
          <li class="page-item active"><a class="page-link" href="">{{page}} </a></li>
          <li class="page-item">
              <a class="page-link" 
              href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page={{page+1}}">
              {{page+1}}</a></li>
          <li class="page-item">
            <a class="page-link" 
               href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page={{page+2}}">
               {{page+2}}
            </a>
          </li>
          {% if last_page - page != 2 %}
            <li class="page-item"><a class="page-link" href="" disabled="disabled">...</a></li>
            <li class="page-item"><a class="page-link" 
              href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page={{last_page}}">{{last_page}}</a></li>
          {% endif %}
        {% elif last_page - page >= 1 %}
          {% if page > 2 %}
            <li class="page-item"><a class="page-link" 
            href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page=1">1</a></li>
            <li class="page-item"><a class="page-link" href="" disabled="disabled">...</a></li>
          {% endif %}
          <li class="page-item active"><a class="page-link" href="">{{page}}</a></li>
          <li class="page-item"><a class="page-link" 
            href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page={{page+1}}">{{page+1}}</a></li>
        {% elif last_page - page >= 0 %}
          {% if page > 2 %}
              <li class="page-item"><a class="page-link" href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page=1">1</a></li>
              <li class="page-item"><a class="page-link" href="" disabled="disabled">...</a></li>
          {% endif %}
          <li class="page-item active"><a class="page-link" href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page=1">{{page}}</a></li>
        {% endif %}
  
      
        {% if next_page %}
        <a class="page-link" 
        href="{{pagination_url}}{{params|get_urlencode}}{% if params|get_urlencode == '' %}?{% else %}&{% endif %}page={{next_page}}" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        {% endif %}
        </a>
      </li>
    </ul>
  </nav>
{% endblock %}